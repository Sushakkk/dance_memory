<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title id="page-title"></title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <!-- Header -->
    <header class="header">
      <div class="header__container container">
        <div class="header__logo logo">
          <i id="logo-icon" class="fas fa-heart"></i>
          <div id="logo-text" class="logo-text"></div>
        </div>
        <div class="header__burger">
          <span></span>
        </div>
        <nav class="header__menu menu">
          <ul id="nav-list" class="menu__list">
            <!-- Navigation items will be generated by JavaScript -->
          </ul>
        </nav>
      </div>
    </header>

    <!-- Hero Section -->
    <section class="hero" id="home">
      <div class="container">
        <div class="hero-image-wrapper">
          <img
            src=""
            alt="Танцевальное фото"
            class="hero-image"
            id="hero-image"
          />
        </div>
        <h1 id="hero-title"></h1>
        <p id="hero-description"></p>
        <div class="hero-buttons">
          <a href="#guide" id="hero-button" class="cta-button"></a>
          <a
            href="#"
            id="hero-instagram"
            class="cta-button instagram-button"
            target="_blank"
            rel="noopener noreferrer"
          >
            <i class="fab fa-instagram"></i>
            <span id="hero-instagram-text"></span>
          </a>
        </div>
      </div>
    </section>

    <!-- Guide Section -->
    <section class="guide" id="guide">
      <div class="container">
        <h2 id="guide-title" class="section-title"></h2>
        <div id="phases-container">
          <!-- Phases will be generated by JavaScript -->
        </div>
      </div>
    </section>

    <!-- Tips Section -->
    <section class="tips" id="tips">
      <div class="container">
        <h2 id="tips-title" class="section-title"></h2>
        <div class="tips-content">
          <div id="tips-grid" class="tips-grid">
            <!-- Tips will be generated by JavaScript -->
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer id="contact">
      <div class="container">
        <div class="footer-content">
          <h3 id="footer-title"></h3>
          <div id="social-links" class="social-links">
            <!-- Social links will be generated by JavaScript -->
          </div>
          <p id="footer-description"></p>
        </div>
        <div class="copyright">
          <span id="copyright-text"></span>
        </div>
      </div>
    </footer>

    <script src="config.js"></script>
    <script>
      // Populate content from CONFIG
      function populateContent() {
        // Site title
        document.getElementById("page-title").textContent = CONFIG.site.title;

        // Logo
        const logoIcon = document.getElementById("logo-icon");
        if (logoIcon) {
          logoIcon.className = CONFIG.site.logoIcon;
        }
        document.getElementById("logo-text").innerHTML = CONFIG.site.logoText;

        // Hero image
        const heroImage = document.getElementById("hero-image");
        if (heroImage && CONFIG.site.heroImage) {
          heroImage.src = CONFIG.site.heroImage;
        }

        // Navigation
        const navList = document.getElementById("nav-list");
        navList.innerHTML = "";
        CONFIG.navigation.forEach((item) => {
          const li = document.createElement("li");
          li.className = "menu__item";
          const a = document.createElement("a");
          a.href = item.href;
          a.className = "menu__link";
          a.textContent = item.name;
          li.appendChild(a);
          navList.appendChild(li);
        });

        // Re-initialize burger menu after navigation is populated
        initBurgerMenu();

        // Hero section
        document.getElementById("hero-title").textContent = CONFIG.hero.title;
        document.getElementById("hero-description").textContent =
          CONFIG.hero.description;
        document.getElementById("hero-button").textContent =
          CONFIG.hero.buttonText;
        document.getElementById("hero-instagram").href =
          CONFIG.hero.instagramLink;
        document.getElementById("hero-instagram-text").textContent =
          CONFIG.hero.instagramText;

        // Guide section
        document.getElementById("guide-title").textContent = CONFIG.guide.title;
        const phasesContainer = document.getElementById("phases-container");
        phasesContainer.innerHTML = "";
        CONFIG.guide.phases.forEach((phase) => {
          const phaseDiv = document.createElement("div");
          phaseDiv.className = "phase";
          phaseDiv.innerHTML = `
                    <div class="phase-header">
                        <div class="phase-icon">
                            <i class="${phase.icon}"></i>
                        </div>
                        <h3 class="phase-title">${phase.title}</h3>
                    </div>
                    <div class="steps">
                        ${phase.steps
                          .map(
                            (step) => `
                            <div class="step">
                                <div class="step-number">${step.number}</div>
                                <h4 class="step-title">${step.title}</h4>
                                <p class="step-description">${step.description}</p>
                            </div>
                        `
                          )
                          .join("")}
                    </div>
                `;
          phasesContainer.appendChild(phaseDiv);
        });

        // Tips section
        document.getElementById("tips-title").textContent = CONFIG.tips.title;
        const tipsGrid = document.getElementById("tips-grid");
        tipsGrid.innerHTML = "";
        CONFIG.tips.items.forEach((tip) => {
          const tipCard = document.createElement("div");
          tipCard.className = "tip-card";
          tipCard.innerHTML = `
                    <div class="tip-icon">
                        <i class="${tip.icon}"></i>
                    </div>
                    <h3 class="tip-title">${tip.title}</h3>
                    <p>${tip.description}</p>
                `;
          tipsGrid.appendChild(tipCard);
        });

        // Footer
        document.getElementById("footer-title").textContent =
          CONFIG.footer.title;
        document.getElementById("footer-description").textContent =
          CONFIG.footer.description;
        document.getElementById("copyright-text").textContent =
          CONFIG.footer.copyright;
        const socialLinks = document.getElementById("social-links");
        socialLinks.innerHTML = "";
        CONFIG.footer.social.forEach((social) => {
          const a = document.createElement("a");
          a.href = social.href;
          a.target = "_blank";
          a.rel = "noopener noreferrer";
          if (social.highlight) {
            a.className = "instagram-highlight";
          } else if (social.icon.includes("telegram")) {
            a.className = "telegram-highlight";
          } else if (social.icon.includes("tiktok")) {
            a.className = "tiktok-highlight";
          }
          a.innerHTML = `<i class="${social.icon}"></i>`;
          socialLinks.appendChild(a);
        });
      }

      // Initialize content when DOM is loaded
      if (document.readyState === "loading") {
        document.addEventListener("DOMContentLoaded", populateContent);
      } else {
        populateContent();
      }

      // Burger menu toggle function
      let burgerMenuInitialized = false;
      function initBurgerMenu() {
        if (burgerMenuInitialized) return;

        const burger = document.querySelector(".header__burger");
        const menu = document.querySelector(".header__menu");
        const body = document.body;

        if (burger && menu) {
          // Toggle menu on burger click
          burger.addEventListener("click", function () {
            burger.classList.toggle("active");
            menu.classList.toggle("active");
            body.classList.toggle("lock");
          });

          // Close menu when clicking on a link (using event delegation)
          menu.addEventListener("click", function (e) {
            if (e.target.classList.contains("menu__link")) {
              burger.classList.remove("active");
              menu.classList.remove("active");
              body.classList.remove("lock");
            }
          });

          burgerMenuInitialized = true;
        }
      }

      // Smooth scrolling for navigation links
      document.addEventListener("click", function (e) {
        if (e.target.matches(".menu__link")) {
          e.preventDefault();
          const targetId = e.target.getAttribute("href");
          const targetElement = document.querySelector(targetId);
          if (targetElement) {
            const headerHeight = document.querySelector("header").offsetHeight;
            window.scrollTo({
              top: targetElement.offsetTop - headerHeight,
              behavior: "smooth",
            });
          }
        }
      });

      // Add animation to steps on scroll
      const observerOptions = {
        threshold: 0.1,
        rootMargin: "0px 0px -50px 0px",
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.style.animation = "fadeInUp 0.8s ease forwards";
            entry.target.style.opacity = "0";
          }
        });
      }, observerOptions);

      // Observe elements after content is populated
      setTimeout(() => {
        document.querySelectorAll(".step, .tip-card").forEach((el) => {
          el.style.opacity = "0";
          observer.observe(el);
        });
      }, 100);

      // Add pulse animation to CTA button
      const ctaButton = document.querySelector(".cta-button");
      if (ctaButton) {
        setInterval(() => {
          ctaButton.style.animation = "none";
          setTimeout(() => {
            ctaButton.style.animation = "pulse 2s infinite";
          }, 10);
        }, 4000);
      }
    </script>
  </body>
</html>
с
